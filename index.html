<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pink Background Image Animation</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600;700&family=Pacifico&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- Letter in center -->
        <div class="letter-container">
            <div class="letter" id="letter" onclick="openLetter()">
                <div class="letter-front">
                    <div class="envelope">
                        <div class="envelope-flap"></div>
                    </div>
                </div>
                <div class="letter-content" id="letterContent">
                    <button class="letter-close-x" onclick="closeLetter(event)">×</button>
                    <div class="letter-paper">
                        <p class="greeting">Gửi người anh yêu nhất trên đời! 💕</p>
                        <p>Em à, anh muốn nói với em rằng em là ánh sáng trong cuộc đời anh.
                            Mỗi ngày được nhìn thấy nụ cười của em, tim anh lại thấy ấm áp.
                            Anh hứa sẽ yêu thương và chăm sóc em mãi mãi!</p>
                        <div class="cute-divider">💖 💝 💖 💝 💖</div>
                        <p class="signature">
                            <span class="signature-text">Yêu em vô cùng</span><br>
                            <span class="signature-name">💕 Người yêu em nhất 💕</span>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        function openLetter() {
            const letter = document.getElementById('letter');
            const letterContent = document.getElementById('letterContent');
            
            letter.classList.add('opened');
            setTimeout(() => {
                letterContent.style.display = 'block';
                letterContent.classList.add('show-content');
            }, 800);
        }
        
        function closeLetter(event) {
            // Ngăn event bubbling để không trigger openLetter()
            if (event) {
                event.stopPropagation();
                event.preventDefault();
            }
            
            const letter = document.getElementById('letter');
            const letterContent = document.getElementById('letterContent');
            
            // Vô hiệu hóa onclick của letter trong lúc đóng
            letter.onclick = null;
            
            // Ẩn hoàn toàn
            letterContent.style.display = 'none';
            letterContent.classList.remove('show-content');
            letter.classList.remove('opened');
            
            // Khôi phục onclick sau 100ms
            setTimeout(() => {
                letter.onclick = openLetter;
            }, 100);
        }
    </script>
</body>
</html>
